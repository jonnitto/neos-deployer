# Install: dep install
# Deploy: dep deploy

# The target domain
neos-site.com:
  # Put here the hostname
  # https://dashboard.uberspace.de/dashboard/datasheet
  hostname: __SERVER__.uberspace.de

  # Put here the Uberspace username
  user: __USER__

  # Put here the ssh repository
  repository: git@github.com:__OWNER__/__REPOSITORY__.git

  # Add here the slack webhook
  slack_webhook: https://hooks.slack.com/services/__YOUR/SLACK/WEBHOOK__

  # Add which caches should be flushed on deployment.
  # Use this setting if you have Redis installed
  # File caches get cleared automatically
  flushCache:
    - Neos_Fusion_Content
    - Flow_Mvc_Routing_Resolve
    - Flow_Mvc_Routing_Route
    - Flow_Session_MetaData
    - Flow_Session_Storage
    - Neos_Media_ImageSize
    - Flow_Security_Cryptography_HashService

  frontend:
    # Add here the command who builds the frontend files, defaults to 'yarn pipeline'
    command: 'yarn pipeline'
    # Add here your commit message, defaults to 'STATIC: Build frontend resources'
    message: 'STATIC: Build frontend resources'
    # Add which paths should be added by the frontend:git task.
    # The path will be checked if they exists and have commits
    # Defaults to ['DistributionPackages/**/Resources/Public']
    paths:
      - 'DistributionPackages/**/Resources/Public'
      - 'DistributionPackages/**/Resources/Private/InlineAssets'

  sshOptions:
    UserKnownHostsFile: /dev/null
    StrictHostKeyChecking: no
